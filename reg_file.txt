module RegFile(writeaddr,writedata,readaddr1,readdata1,readaddr2,readdata2,write,clk);
input[4:0]writeaddr,readaddr1,readaddr2;
input[31:0]writedata;
input write,clk;
output reg[31:0]readdata1,readdata2;
reg[31:0]RegCall[31:0];
always@(posedge clk)
begin
if(write==1)
RegCall[writeaddr]=writedata;
end
always@(readaddr1 or RegCall[readaddr1])
begin
if(readaddr1==0)
readdata1=0;
else
readdata1=RegCall[readaddr1];
end
always@(readaddr2 or RegCall[readaddr2])
begin
if(readaddr2==0)
readdata2=0;
else
readdata2=RegCall[readaddr2];
end
endmodule