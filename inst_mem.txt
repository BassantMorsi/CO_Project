module InstrMem(clk, addr, instr);

input		clk;
input	[31:0]	addr;
output	[31:0]	instr;

reg	[31:0]	instr;

//	memAddr is an address register in the memory side.
reg	[31:0]	memAddr;
reg	[31:0]	Imem[0:512];

initial
	$readmemb ("Imips.data", Imem);

always @(posedge clk) begin
	memAddr = addr ;
	instr = Imem[memAddr];
end

endmodule